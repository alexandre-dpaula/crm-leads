exports.id=418,exports.ids=[418],exports.modules={8285:(e,t,r)=>{Promise.resolve().then(r.bind(r,5160))},1648:(e,t,r)=>{Promise.resolve().then(r.bind(r,2233))},6954:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5160:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(326),a=r(3574),s=r(2852),o=r(4976),i=r(7577),l=r(381);function d(){return n.jsx(l.x7,{position:"top-right",toastOptions:{style:{background:"#1f2937",color:"#f9fafb",borderRadius:"0.75rem",padding:"0.75rem 1rem"}}})}function c({children:e}){let[t]=(0,i.useState)(()=>new s.S);return(0,n.jsxs)(a.f,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[n.jsx(o.aH,{client:t,children:e}),n.jsx(d,{})]})}},2233:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(326),a=r(434),s=r(5047),o=r(772),i=r(2247),l=r(7577);let d=l.forwardRef(function({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}),c=l.forwardRef(function({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}),u=l.forwardRef(function({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),f=l.forwardRef(function({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))});var m=r(381);let p=[{name:"Dashboard",href:"/dashboard",icon:d},{name:"Leads",href:"/dashboard",icon:c},{name:"Configura\xe7\xf5es",href:"/profile",icon:u}];function h({user:e}){let t=(0,s.usePathname)(),r=(0,s.useRouter)(),l=async()=>{try{if(!(await fetch("/api/auth/logout",{method:"POST"})).ok)throw Error("Erro ao sair.");m.ZP.success("Sess\xe3o encerrada."),r.push("/login"),r.refresh()}catch(e){m.ZP.error(e instanceof Error?e.message:"N\xe3o foi poss\xedvel encerrar a sess\xe3o.")}};return(0,n.jsxs)("aside",{className:"flex h-full w-64 flex-col gap-8 bg-slate-950 px-6 py-8 text-slate-100",children:[(0,n.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-3 text-lg font-semibold",children:[n.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-brand-500 text-white",children:"F"}),"FlowCRM"]}),n.jsx("nav",{className:"flex flex-1 flex-col gap-2",children:p.map(e=>(0,n.jsxs)(a.default,{href:e.href,className:(0,i.cn)("flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium transition",t===e.href?"bg-slate-900 text-white shadow-inner shadow-slate-900/40":"text-slate-400 hover:bg-slate-900 hover:text-white"),children:[n.jsx(e.icon,{className:"h-5 w-5"}),e.name]},e.name))}),(0,n.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[e.avatarUrl?n.jsx("img",{src:e.avatarUrl,alt:e.name,className:"h-10 w-10 rounded-full object-cover"}):n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-500/20 text-sm font-semibold text-brand-200",children:e.name.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase()}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:e.name}),n.jsx("p",{className:"text-xs text-slate-400",children:e.email})]})]}),(0,n.jsxs)(o.z,{onClick:l,variant:"ghost",className:"mt-4 w-full justify-center gap-2 border border-slate-800 bg-slate-900/70 text-slate-200 hover:bg-slate-800",children:[n.jsx(f,{className:"h-4 w-4"}),"Sair"]})]})]})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(326),a=r(6438),s=r(9360),o=r(2247);let i=(0,s.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400 disabled:opacity-60 disabled:cursor-not-allowed gap-2",{variants:{variant:{primary:"bg-brand-500 text-white hover:bg-brand-600 shadow-card",secondary:"bg-white text-slate-900 border border-slate-200 hover:border-slate-300 hover:bg-slate-50 shadow-sm",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800"},size:{sm:"h-8 px-3",md:"h-10 px-4",lg:"h-12 px-6 text-base"}},defaultVariants:{variant:"primary",size:"md"}});function l({className:e,variant:t,size:r,asChild:s,leftIcon:l,rightIcon:d,children:c,...u}){let f=s?a.g7:"button";return(0,n.jsxs)(f,{className:(0,o.cn)(i({variant:t,size:r,className:e})),...u,children:[l?n.jsx("span",{className:"text-base",children:l}):null,c,d?n.jsx("span",{className:"text-base",children:d}):null]})}},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=r(326),a=r(7577),s=r(2247);let o=(0,a.forwardRef)(function({className:e,type:t="text",...r},a){return n.jsx("input",{ref:a,type:t,className:(0,s.cn)("flex h-11 w-full rounded-lg border border-slate-200 bg-white px-4 text-sm placeholder:text-slate-400 focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:opacity-60",e),...r})})},5677:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(326);function a({size:e=20}){return(0,n.jsxs)("svg",{className:"animate-spin text-brand-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:e,height:e,children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}},341:(e,t,r)=>{"use strict";r.d(t,{dm:()=>o,gY:()=>s,jE:()=>l,sL:()=>i,sY:()=>c,tw:()=>d});var n=r(7119),a=r(6495);let s=n.Ry({name:n.Z_().min(2,"Informe pelo menos 2 caracteres"),email:n.Z_().email("E-mail inv\xe1lido"),password:n.Z_().min(6,"M\xednimo de 6 caracteres"),confirmPassword:n.Z_().min(6)}).refine(e=>e.password===e.confirmPassword,{message:"As senhas n\xe3o conferem",path:["confirmPassword"]}),o=n.Ry({email:n.Z_().email("E-mail inv\xe1lido"),password:n.Z_().min(1,"Informe a senha")}),i=n.Ry({name:n.Z_().min(2,"Informe o nome do lead"),stageId:n.Z_().optional(),company:n.Z_().optional(),email:n.Z_().email().optional().or(n.i0("")),phone:n.Z_().optional(),position:n.Rx().optional(),value:n.Yj().optional().transform(e=>{if(null==e||""===e)return;let t="number"==typeof e?e:Number(e);return Number.isFinite(t)?t:void 0}).refine(e=>void 0===e||!Number.isNaN(e),"Valor inv\xe1lido"),notes:n.Z_().max(2e3).optional()});n.Ry({id:n.Z_(),name:n.Z_().min(2),order:n.Rx().min(0)}),n.Ry({id:n.Z_(),stageId:n.Z_(),position:n.Rx()});let l=n.Ry({name:n.Z_().min(2),email:n.Z_().email(),currentPassword:n.Z_().optional(),newPassword:n.Z_().optional(),confirmPassword:n.Z_().optional(),avatarData:n.Z_().optional()}).superRefine((e,t)=>{(e.newPassword||e.confirmPassword)&&(e.currentPassword||t.addIssue({code:a.NL.custom,message:"Informe a senha atual para alterar a senha.",path:["currentPassword"]}),(!e.newPassword||e.newPassword.length<6)&&t.addIssue({code:a.NL.custom,message:"Nova senha deve ter ao menos 6 caracteres.",path:["newPassword"]}),e.newPassword!==e.confirmPassword&&t.addIssue({code:a.NL.custom,message:"As senhas n\xe3o conferem.",path:["confirmPassword"]}))}),d=n.Ry({email:n.Z_().email()}),c=n.Ry({token:n.Z_(),password:n.Z_().min(6),confirmPassword:n.Z_().min(6)}).refine(e=>e.password===e.confirmPassword,{message:"As senhas n\xe3o conferem",path:["confirmPassword"]})},5047:(e,t,r)=>{"use strict";var n=r(7389);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},2247:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(1135),a=r(1009);function s(...e){return(0,a.m6)((0,n.W)(e))}},5062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>u});var n=r(9510),a=r(5384),s=r.n(a);r(7272);var o=r(8570);let i=(0,o.createProxy)(String.raw`/Users/alexandredpaula/SaaS DEV/CRM Leads V2/components/layout/providers.tsx`),{__esModule:l,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/Users/alexandredpaula/SaaS DEV/CRM Leads V2/components/layout/providers.tsx#default`),u={title:"FlowCRM",description:"CRM minimalista para times modernos focados em produtividade."};function f({children:e}){return n.jsx("html",{lang:"pt-BR",suppressHydrationWarning:!0,children:n.jsx("body",{className:s().className,children:n.jsx(c,{children:e})})})}},9381:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var n=r(8570);let a=(0,n.createProxy)(String.raw`/Users/alexandredpaula/SaaS DEV/CRM Leads V2/components/layout/sidebar.tsx`),{__esModule:s,$$typeof:o}=a;a.default;let i=(0,n.createProxy)(String.raw`/Users/alexandredpaula/SaaS DEV/CRM Leads V2/components/layout/sidebar.tsx#default`)},5852:(e,t,r)=>{"use strict";r.d(t,{I2:()=>h,ts:()=>b,c_:()=>f,MY:()=>p,VC:()=>c,Gv:()=>m});var n=r(1615),a=r(2023),s=r.n(a),o=r(2331),i=r(1482),l=r.n(i);function d(){let e=process.env.JWT_SECRET;if(!e)throw Error("JWT_SECRET n\xe3o configurado");return e}function c(e){return l().sign({userId:e},d(),{expiresIn:"8h"})}let u="flowcrm_session";async function f(e){let t=await s().genSalt(10);return s().hash(e,t)}async function m(e,t){return s().compare(e,t)}function p(e){(0,n.cookies)().set({name:u,value:e,httpOnly:!0,secure:!0,path:"/",sameSite:"lax",maxAge:28800})}function h(){(0,n.cookies)().delete(u)}async function b(){let e=n.cookies().get(u)?.value;if(!e)return null;let t=function(e){try{return l().verify(e,d())}catch(e){return null}}(e);return t?.userId?o._.user.findUnique({where:{id:t.userId}}):null}},2331:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(3524);let a=globalThis.prisma??new n.PrismaClient({log:["error"]})},8585:(e,t,r)=>{"use strict";var n=r(1085);r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(3953),a=r(6399);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return f},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(4580),s=r(2934),o=r(8586),i="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(i);n.digest=i+";"+t+";"+e+";"+r+";";let s=a.requestAsyncStorage.getStore();return s&&(n.mutableCookies=s.mutableCookies),n}function d(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,a]=e.digest.split(";",4),s=Number(a);return t===i&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(s)&&s in o.RedirectStatusCode}function f(e){return u(e)?e.digest.split(";",3)[2]:null}function m(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7272:()=>{}};